---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "ceph_crush_rule Resource - terraform-provider-ceph"
subcategory: ""
description: |-
  Manages a Ceph CRUSH rule for data placement
---

# ceph_crush_rule (Resource)

Manages a Ceph CRUSH rule for data placement

## Example Usage

```terraform
# CRUSH rule for HDD devices with host-level failure domain
resource "ceph_crush_rule" "hdd_hosts" {
  name           = "hdd_hosts_rule"
  root           = "default"
  failure_domain = "host"
  device_class   = "hdd"
}

# CRUSH rule for SSD devices
resource "ceph_crush_rule" "ssd_hosts" {
  name           = "ssd_hosts_rule"
  root           = "default"
  failure_domain = "host"
  device_class   = "ssd"
}

# CRUSH rule for single-node cluster (OSD failure domain)
resource "ceph_crush_rule" "single_node" {
  name           = "single_node_rule"
  root           = "default"
  failure_domain = "osd"
}

# Use CRUSH rule with a pool
resource "ceph_pool" "fast_pool" {
  name      = "fast-storage"
  pg_num    = 64
  type      = "replicated"
  rule_name = ceph_crush_rule.ssd_hosts.name
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `failure_domain` (String) The failure domain type (e.g., host, osd)
- `name` (String) The name of the CRUSH rule
- `root` (String) The root bucket (e.g., default, host name)

### Optional

- `device_class` (String) The device class (hdd, ssd, or empty for all)

### Read-Only

- `rule_id` (Number) The CRUSH rule ID assigned by Ceph
